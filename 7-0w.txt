'''
ì°¨ ê²½ì£¼
'''
from turtle import *
import random
import time

class Car:
    def __init__(self, speed, color, fname, x, y, finish_line):
        self.speed = speed
        self.color = color
        self.turtle = Turtle()
        self.turtle.shape(fname)
        self.turtle.color(self.color)
        self.turtle.penup()
        self.turtle.goto(x, y)  # ì‹œì‘ì  ì¢Œí‘œ ì„¤ì •
        self.finish_line = finish_line
        self.finished = False  # ê²°ìŠ¹ì„ ì„ í†µê³¼í–ˆëŠ”ì§€ í™•ì¸ìš©

    def move(self):
        if self.finished:
            return False  # ì´ë¯¸ ê²°ìŠ¹ì„ ì„ í†µê³¼í–ˆìœ¼ë©´ ë©ˆì¶¤
    
        self.turtle.forward(self.speed)  # ì°¨ê°€ í˜„ì¬ ì†ë„ë¡œ ì´ë™

        if self.turtle.xcor() >= self.finish_line:
            self.finished = True  # ê²°ìŠ¹ì„  ë„ì°©í•˜ë©´ ìƒíƒœ ë³€ê²½
            return True  # ê²°ìŠ¹ì„  í†µê³¼ ìƒíƒœ ë°˜í™˜

        return False

# shapeë¡œ ì°¨ ë“±ë¡
register_shape("car1.gif")
register_shape("car2.gif")
register_shape("car.gif")

# ë„ì°© ì§€ì  ì„¤ì •
finish_line = 300

# ê°ì²´ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ìƒì„±
cars = [
    Car(random.randint(10, 30), "blue", "car1.gif", -300, 150, finish_line),
    Car(random.randint(10, 30), "red", "car2.gif", -300, 0, finish_line),
    Car(random.randint(10, 30), "white", "car.gif", -300, -150, finish_line)
]

ranking = []  # ë“±ìˆ˜ ê¸°ë¡ ë¦¬ìŠ¤íŠ¸

# ê²½ì£¼ ì‹œì‘
while len(ranking) < len(cars):  # ëª¨ë“  ì°¨ê°€ ê²°ìŠ¹ì„ ì— ë„ë‹¬í•  ë•Œê¹Œì§€ ì‹¤í–‰
    for car in cars:
        if car not in ranking:  # ê²°ìŠ¹ì„  ë„ì°©í• ë•Œ ê¹Œì§€ ê³„ì† ê²½ì£¼
            if car.move():
                ranking.append(car)  # ë„ì°©í•˜ë©´ ë“±ìˆ˜ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€

# ë“±ìˆ˜ ì¶œë ¥
pen = Turtle()
pen.hideturtle()
pen.penup()
pen.goto(-100, -200)
pen.write("ğŸ ë ˆì´ìŠ¤ ê²°ê³¼ ğŸ", align="left", font=("Arial", 16, "bold"))

for i in range(len(ranking)):
    car = ranking[i]
    pen.goto(-100, -230 - (i * 30))
    pen.write(str(i + 1) + "ë“±: " + car.color + " ìë™ì°¨", align="left", font=("Arial", 14, "normal"))


done()
